<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;700&display=swap"
    />
    <title>Gestor de Consumo de Agua</title>
    <!-- Inline the page's stylesheet. -->
    <style>
      * {
        background-color: #f1f0f1;
      }

      body {
        font-family: "Roboto";
        font-weight: 700;
        align-items: center;
        justify-items: center;
        padding: 10%;
      }

      h1 {
        color: black;
      }

      p {
        color: black;
        font-family: Roboto;
        font-weight: 300;
        font-size: 150%;
      }

    </style>
  </head>
  <body>
    <div class="box">
      <h1>¡No tienes conexión a internet!</h1>
      <p>Tu gestor de consumo de agua volverá cuando te conectes a internet</p>
    </div>
    <!-- Inline the page's JavaScript file. -->
    <script>
      // Listen to changes in the network state, reload when online.
      // This handles the case when the device is completely offline.
    window.addEventListener('online', () => {
      window.location.reload();
    });

    // Check if the server is responding and reload the page if it is.
    // This handles the case when the device is online, but the server
    // is offline or misbehaving.
    async function checkNetworkAndReload() {
      try {
        const response = await fetch('.');
        // Verify we get a valid response from the server
        if (response.status >= 200 && response.status < 500) {
          window.location.reload();
          return;
        }
      } catch {
        // Unable to connect to the server, ignore.
      }
      window.setTimeout(checkNetworkAndReload, 2500);
    }

    checkNetworkAndReload();
    </script>
  </body>
</html>
